<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Happy Birthday Maa</title>
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&family=Poppins:wght@400;700&display=swap"
        rel="stylesheet">
    <style>
        /* CSS Styles */
        :root {
            --primary-color: #ff66aa;
            /* Pink */
            --secondary-color: #8844ff;
            /* Purple */
            --text-color: #ffddff;
            /* Light Pink */
            --bg-color: #001133;
            /* Dark Blue */
        }

        body {
            margin: 0;
            font-family: 'Poppins', sans-serif;
            background: var(--bg-color);
            color: var(--text-color);
            overflow-x: hidden;
        }

        .page {
            display: none;
            text-align: center;
            padding: 50px 20px;
            min-height: 100vh;
        }

        /* Active page styling */
        .active {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }

        /* NEW INTRO PAGE styling */
        #intro-page {
            background-color: var(--primary-color);
            color: white;
            justify-content: center;
            align-items: center;
        }

        #intro-page h1 {
            font-size: 10vw;
            color: white;
            text-shadow: 0 0 20px rgba(0, 0, 0, 0.5);
            margin-bottom: 30px;
        }
        
        /* Main Front Page (now Page 2) adjustment */
        #page1.active {
            padding-top: 100px;
            justify-content: flex-start;
            min-height: calc(100vh - 100px);
        }

        /* Creative Title Font */
        h1 {
            font-family: 'Dancing Script', cursive;
            font-size: 75px;
            margin-bottom: 5px;
            color: var(--text-color);
            text-shadow: 0 0 15px var(--primary-color), 0 0 25px var(--secondary-color);
            line-height: 1.2;
        }

        /* Specific styling for main front page headers (now Page 2) */
        #page1 h1 {
            font-size: 80px;
        }

        #page1 .quote {
            font-size: 28px;
            margin-top: 15px;
            margin-bottom: 50px;
            font-style: italic;
            color: #ccc;
        }


        /* Adjusted Video Styling and Position */
        video {
            width: 90%;
            max-width: 550px;
            border-radius: 20px;
            cursor: pointer;
            box-shadow: 0 0 30px var(--primary-color);
            margin-top: 50px;
        }

        /* Gift Boxes (List Style) */
        .list-container {
            display: flex;
            flex-direction: column;
            gap: 15px;
            max-width: 450px;
            margin: 30px auto;
            padding: 0;
            list-style: none;
        }

        /* Gift Box Item (RECTANGULAR: Taller than wide) */
        .gift-box,
        .letter-box {
            background: var(--primary-color);
            /* Increased padding for a clear rectangular shape */
            padding: 60px 30px; 
            border-radius: 15px;
            font-size: 20px;
            font-weight: 600;
            cursor: pointer;
            box-shadow: 0 5px 20px rgba(255, 102, 170, 0.5);
            transition: 0.3s;
            text-align: center;
            color: white;
        }

        .gift-box:hover,
        .letter-box:hover {
            transform: scale(1.03);
            background: #ff77bb;
        }

        /* Photo Display within the page (FIXED position: it stays relative to its parent container) */
        .photo-display {
            position: relative;
            margin: 30px auto;
            max-width: 450px;
            background-color: rgba(0, 0, 0, 0.4);
            border-radius: 20px;
            padding: 20px;
            transition: opacity 0.3s ease;
            width: 90%;
            /* Ensure it respects max-width */
            min-height: 200px; /* Give it space even when empty */
        }

        .photo-display img {
            width: 100%;
            /* Make the image responsive inside the box */
            height: auto; 
            border-radius: 15px;
            box-shadow: 0 0 25px white;
            display: block;
            opacity: 0;
            transition: opacity 0.3s ease;
        }
        
        /* Intro Button Style */
        .intro-btn {
            font-size: 24px;
            padding: 15px 40px;
            background: var(--secondary-color);
            border: none;
            border-radius: 30px;
            cursor: pointer;
            color: white;
            font-weight: bold;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.3);
            transition: 0.3s;
        }

        .intro-btn:hover {
            transform: scale(1.05);
            background: #9955ff;
        }


        /* Letter Box Style (Purple for distinction) */
        .letter-box {
            background: var(--secondary-color);
            box-shadow: 0 5px 20px rgba(136, 68, 255, 0.5);
        }

        .letter-box:hover {
            background: #9955ff;
        }

        .hidden-text {
            /* Updated styles for smooth open/close of letters */
            display: block;
            opacity: 0;
            max-height: 0;
            padding: 0 20px;
            margin-top: 5px;
            background: #ffffff22;
            border-radius: 15px;
            text-align: left;
            color: white;
            font-size: 18px;
            line-height: 1.6;
            overflow: hidden;
            transition: max-height 0.5s ease-in-out, opacity 0.5s ease-in-out, padding 0.5s ease-in-out;
        }

        /* Next Button */
        .next-btn {
            margin-top: 40px;
            font-size: 22px;
            padding: 12px 35px;
            background: var(--primary-color);
            border: none;
            border-radius: 30px;
            cursor: pointer;
            color: white;
            font-weight: bold;
            box-shadow: 0 0 20px var(--primary-color);
            transition: 0.3s;
        }

        .next-btn:hover {
            transform: scale(1.1);
            box-shadow: 0 0 30px var(--text-color);
        }

        /* Final Page Arrangement (Page 7) */
        #page6 h1 {
            font-size: 80px;
        }

        #page6 p {
            font-family: 'Poppins', sans-serif;
            max-width: 700px;
            margin: 30px auto;
            font-size: 20px;
            line-height: 1.8;
            background: rgba(255, 255, 255, 0.1);
            padding: 25px;
            border-radius: 20px;
            text-align: left;
        }

        /* Fireworks */
        #fireworks-container {
            position: fixed;
            width: 100%;
            height: 100%;
            pointer-events: none;
            top: 0;
            left: 0;
            z-index: 99;
        }

        #fireworks-text {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-family: 'Dancing Script', cursive;
            font-size: 8vw;
            color: white;
            text-shadow: 0 0 20px var(--primary-color), 0 0 30px var(--secondary-color);
            z-index: 100;
            opacity: 0;
            transition: opacity 1s ease-in;
            text-align: center;
            line-height: 1.1;
        }

        /* Stars / Heart Rain */
        .rain {
            position: fixed;
            top: -10px;
            color: var(--primary-color);
            animation: fall 3s linear infinite;
            font-size: 20px;
            opacity: 0.8;
            pointer-events: none;
        }

        @keyframes fall {
            to {
                transform: translateY(100vh);
                opacity: 0;
            }
        }
    </style>
</head>


<body>

    <script>
        function startRain() {
            setInterval(() => {
                let e = document.createElement("div");
                e.className = "rain";
                e.innerText = Math.random() > 0.5 ? "ЁЯМЯ" : "ЁЯТЦ";
                e.style.left = Math.random() * 100 + "vw";
                document.body.appendChild(e);

                setTimeout(() => e.remove(), 3000);
            }, 200);
        }
        startRain();
    </script>


    <div id="intro-page" class="page active">
        <h1>Happy Birthday to You! ЁЯОЙ</h1>
        <button class="intro-btn" onclick="startExperience()">ЁЯОБ Gift рдХреЗ рд▓рд┐рдП Click рдХрд░реЗрдВ</button>
    </div>


    <div id="page1" class="page">
        <h1>
            <span style="display:block;">Maa, Aapko Janamdin Ki</span>
            <span style="color:var(--primary-color); text-shadow: 0 0 20px var(--primary-color);">Dhero Shubhkaamnayein</span>
            ЁЯОЙ
        </h1>
        <p class="quote">ЁЯл╢ рдЖрдкрдХреЗ рдмрд░реНрдердбреЗ рдкрд░ рд╣рдорд╛рд░реА рддрд░рдл рд╕реЗ рдкреНрдпрд╛рд░рд╛ рд╕рд╛ рдЧрд┐рдлреНрдЯ тЭдя╕П</p>


        <audio id="bg1" src="maa1.mp3" loop></audio>


        <video id="cakeVideo" src="cake.mp4" controls></video>
    </div>



    <div id="page2" class="page">
        <h1>ЁЯлЕ рдкреНрдпрд╛рд░реА рдорд╛рдВ рдХреЗ рдЦрд╛рд╕ рдкрд▓ ЁЯлЕ</h1>
        <audio id="bg2" src="maa2.mp3" loop></audio>

        <div id="photoDisplay2" class="photo-display">
            <img id="popupImg2" src="" style="max-height:400px; object-fit:contain;">
        </div>

        <div class="list-container">
            <div class="gift-box" onclick="openPhoto('gift1.jpg', 2)">ЁЯОБ Gift 1</div>
            <div class="gift-box" onclick="openPhoto('gift2.jpg', 2)">ЁЯОБ Gift 2</div>
            <div class="gift-box" onclick="openPhoto('gift3.jpg', 2)">ЁЯОБ Gift 3</div>
            <div class="gift-box" onclick="openPhoto('gift4.jpg', 2)">ЁЯОБ Gift 4</div>
            <div class="gift-box" onclick="openPhoto('gift5.jpg', 2)">ЁЯОБ Gift 5</div>
            <div class="gift-box" onclick="openPhoto('gift6.jpg', 2)">ЁЯОБ Gift 6</div>
            <div class="gift-box" onclick="openPhoto('gift7.jpg', 2)">ЁЯОБ Gift 7</div>
            <div class="gift-box" onclick="openPhoto('gift8.jpg', 2)">ЁЯОБ Gift 8</div>
            <div class="gift-box" onclick="openPhoto('gift9.jpg', 2)">ЁЯОБ Gift 9</div>
            <div class="gift-box" onclick="openPhoto('gift10.jpg', 2)">ЁЯОБ Gift 10</div>
        </div>

        <button class="next-btn" onclick="nextPage()">Next тЮЬ</button>
    </div>



    <div id="page3" class="page">
        <h1>ЁЯдН рдЫреЛрдЯреА рдЫреЛрдЯреА рдпрд╛рджреЗрдВ ЁЯдН</h1>
        <audio id="bg3" src="maa3.mp3" loop></audio>

        <div id="photoDisplay3" class="photo-display">
            <img id="popupImg3" src="" style="max-height:400px; object-fit:contain;">
        </div>

        <div class="list-container">
            <div class="gift-box" onclick="openPhoto('gift11.jpg', 3)">ЁЯОБ Gift 11</div>
            <div class="gift-box" onclick="openPhoto('gift12.jpg', 3)">ЁЯОБ Gift 12</div>
            <div class="gift-box" onclick="openPhoto('gift13.jpg', 3)">ЁЯОБ Gift 13</div>
            <div class="gift-box" onclick="openPhoto('gift14.jpg', 3)">ЁЯОБ Gift 14</div>
            <div class="gift-box" onclick="openPhoto('gift15.jpg', 3)">ЁЯОБ Gift 15</div>
            <div class="gift-box" onclick="openPhoto('gift16.jpg', 3)">ЁЯОБ Gift 16</div>
            <div class="gift-box" onclick="openPhoto('gift17.jpg', 3)">ЁЯОБ Gift 17</div>
            <div class="gift-box" onclick="openPhoto('gift18.jpg', 3)">ЁЯОБ Gift 18</div>
            <div class="gift-box" onclick="openPhoto('gift19.jpg', 3)">ЁЯОБ Gift 19</div>
            <div class="gift-box" onclick="openPhoto('gift20.jpg', 3)">ЁЯОБ Gift 20</div>
        </div>


        <button class="next-btn" onclick="nextPage()">Next тЮЬ</button>
    </div>



    <div id="page4" class="page">
        <h1>ЁЯТМ рдЪрд┐рдЯреНрдард┐рдпрд╛рдВ рдЖрдкрдХреЗ рд▓рд┐рдП ЁЯТМ </h1>
        <audio id="bg4" src="maa4.mp3" loop></audio>


        <div class="list-container">
            <div class="letter-item">
                <div class="letter-box" onclick="toggleQuote('q1')">тЬи Letter 1: рдкреНрдпрд╛рд░ рдХрд╛ рдЗрдЬрд╝рд╣рд╛рд░</div>
                <div id="q1" class="hidden-text">
                    рдЖрдЬ рдХрд╛ рджрд┐рди рд╣реИ рдмрд╣реБрдд рдЦрд╝рд╛рд╕, рдЖрдк рд╣реЛ рд╣рдорд╛рд░реЗ рджрд┐рд▓ рдХреЗ рдкрд╛рд╕ тЭдя╕ПтЬи
                </div>
            </div>

            <div class="letter-item">
                <div class="letter-box" onclick="toggleQuote('q2')">тШХ Letter 2: рдЪрд╛рдп рдФрд░ рдорд╛рдБ</div>
                <div id="q2" class="hidden-text">
                    рд╣рдо рдмрдЪреНрдЪреЛрдВ рдХреА рдПрдХ рд╣реА рд░рд╛рдп, рдордореНрдореА рдЖрдк рдмрдирд╛рддреА рд╣реЛ рд╕рдмрд╕реЗ рдЕрдЪреНрдЫреА рдЪрд╛рдп тШХтЭдя╕П
                </div>
            </div>

            <div class="letter-item">
                <div class="letter-box" onclick="toggleQuote('q3')">ЁЯза Letter 3: рд╕рдордЭрджрд╛рд░ рдорд╛рдБ</div>
                <div id="q3" class="hidden-text">
                    рд╣рдо рд╕рдм рдХреА рдПрдХ рдХрд╣рд╛рдиреА, рдордореНрдореА рд╣рдорд╛рд░реА рдмрд╣реБрдд рд╕рдпрд╛рдиреА тЭдя╕ПтЬи
                </div>
            </div>

            <div class="letter-item">
                <div class="letter-box" onclick="toggleQuote('q4')">ЁЯНк Letter 4: рдмрд░реНрдердбреЗ рдорд╕реНрддреА</div>
                <div id="q4" class="hidden-text">
                    рдЖрдпрд╛ рдЖрдпрд╛ рдЬрдиреНрдорджрд┐рди, рдЖрдЬ рдЦрд╛рдПрдВрдЧреЗ рд╣рдо рдмрд┐рд╕реНрдХрд┐рдЯ рдирдордХреАрди ЁЯОЙЁЯНктЬи
                </div>
            </div>

            <div class="letter-item">
                <div class="letter-box" onclick="toggleQuote('q5')">ЁЯОБ Letter 5: рд╕рдмрд╕реЗ рдмрдбрд╝рд╛ рддреЛрд╣рдлрд╛</div>
                <div id="q5" class="hidden-text">
                    рдЬрдиреНрдорджрд┐рди рдкрд░ рдмрд╕ рдпрд╣реА рдЙрдкрд╣рд╛рд░ рджреЗ рд╕рдХрддреЗ рд╣реИрдВ,
                    рдвреЗрд░ рд╕рд╛рд░рд╛ рдкреНрдпрд╛рд░ рдФрд░ рдЦреВрдмрд╕реВрд░рдд рджреБрдЖрдПрдБтЩея╕Пред
                </div>
            </div>

            <div class="letter-item">
                <div class="letter-box" onclick="toggleQuote('q6')">ЁЯШК Letter 6: рд╣рдорд╛рд░реА рджреБрдирд┐рдпрд╛</div>
                <div id="q6" class="hidden-text">
                    рдЖрдкрдХреА рд╣рдВрд╕реА рдореЗрдВ рд╣реА рд╣рдорд╛рд░рд╛ рд╕реБрдХреВрди рд╣реИ,
                    рдЖрдкрдХреА рдЦреБрд╢реА рдореЗрдВ рд╣реА рд╣рдорд╛рд░реА рджреБрдирд┐рдпрд╛ЁЯШШЁЯШЕред
                </div>
            </div>

            <div class="letter-item">
                <div class="letter-box" onclick="toggleQuote('q7')">ЁЯе░ Letter 7: рдордорддрд╛ рдХреЛ рд╕рд▓рд╛рдо</div>
                <div id="q7" class="hidden-text">
                    рдЖрдкрдХреА рдордорддрд╛ рдиреЗ рд╣рдореЗрдВ рд╣рд░ рдореЛрдбрд╝ рдкрд░ рд╕рдВрднрд╛рд▓рд╛ рд╣реИ,
                    рдЖрдЬ рдЙрд╕реА рдкреНрдпрд╛рд░ рдХреЛ рд╕рд▓рд╛рдо рдХрд░рдиреЗ рдХрд╛ рджрд┐рди рд╣реИтШ║я╕Пред
                </div>
            </div>

            <div class="letter-item">
                <div class="letter-box" onclick="toggleQuote('q8')">ЁЯПб Letter 8: рдШрд░ рдХреА рд░реМрдирдХ</div>
                <div id="q8" class="hidden-text">
                    рдЬрд┐рд╕ рдШрд░ рдореЗрдВ рдЖрдкрдХреА рд╣рдВрд╕реА рдЧреВрдВрдЬрддреА рд╣реИ,
                    рд╡рд╣реАрдВ рд╕реЗ рд╣рдорд╛рд░реА рдЦреБрд╢рд┐рдпрд╛рдБ рд╢реБрд░реВ рд╣реЛрддреА рд╣реИрдВЁЯе░ред
                </div>
            </div>

            <div class="letter-item">
                <div class="letter-box" onclick="toggleQuote('q9')">ЁЯЩП Letter 9: рджреБрдЖрдПрдВ</div>
                <div id="q9" class="hidden-text">
                    рднрдЧрд╡рд╛рди рд╕реЗ рдмрд╕ рдЗрддрдиреА рд╕реА рдкреНрд░рд╛рд░реНрдердирд╛ рд╣реИ,
                    рдЖрдкрдХреА рдЭреЛрд▓реА рд╣рдореЗрд╢рд╛ рдЦреБрд╢рд┐рдпреЛрдВ рд╕реЗ рднрд░реА рд░рд╣реЗЁЯЩМтЩея╕Пред
                </div>
            </div>

            <div class="letter-item">
                <div class="letter-box" onclick="toggleQuote('q10')">ЁЯТЦ Letter 10: рдЖрдк рд╣реА рд╕рдм рдХреБрдЫ</div>
                <div id="q10" class="hidden-text">
                    рдЖрдкрдХреЗ рдмрд┐рдирд╛ рдпреЗ рдШрд░ рдЦрд╛рд▓реА-рдЦрд╛рд▓реА рд▓рдЧрддрд╛ рд╣реИ,
                    рдЖрдк рд╣реА рддреЛ рдЗрд╕рдХреА рдЕрд╕рд▓реА рд░реМрдирдХ рд╣реИрдВтШ║я╕Пред
                </div>
            </div>
        </div>


        <button class="next-btn" onclick="nextPage()">Next тЮЬ</button>
    </div>


    <div id="page5" class="page">
        <h1>ЁЯТЭ рдХреБрдЫ рдФрд░ рдмрд╛рддреЗ тЭдя╕ПтАНЁЯй╣</h1>
        <audio id="bg5" src="maa5.mp3" loop></audio>


        <div class="list-container">
            <div class="letter-item">
                <div class="letter-box" onclick="toggleQuote('q11')">тЬи Letter 11: рдкреНрдпрд╛рд░реА рдЦреНрд╡рд╛рд╣рд┐рд╢</div>
                <div id="q11" class="hidden-text">
                    рдЬреАрд╡рди рдХреА рд╣рд░ рд░рд╛рд╣ рдкрд░ рдЖрдкрдХреА рдореБрд╕реНрдХрд╛рди рд╕рд╛рде рд░рд╣реЗ,
                    рдпрд╣реА рд╕рдмрд╕реЗ рдкреНрдпрд╛рд░реА рдЦреНрд╡рд╛рд╣рд┐рд╢ рд╣реИ рд╣рдорд╛рд░реАЁЯТЬред
                </div>
            </div>
            <div class="letter-item">
                <div class="letter-box" onclick="toggleQuote('q12')">ЁЯМЯ Letter 12: рджрд┐рди рдХреА рд░реЛрд╢рдиреА</div>
                <div id="q12" class="hidden-text">
                    рдЖрдкрдХрд╛ рдЬрдиреНрдорджрд┐рди рд╣рдорд╛рд░реА рджреБрдЖрдУрдВ рдХрд╛ рддреНрдпреМрд╣рд╛рд░ рд╣реИ,
                    рдХреНрдпреЛрдВрдХрд┐ рдЖрдк рд╣реА рд╣рдорд╛рд░реЗ рд╣рд░ рджрд┐рди рдХреА рд░реЛрд╢рдиреА рд╣реИрдВЁЯМЯред
                </div>
            </div>
            <div class="letter-item">
                <div class="letter-box" onclick="toggleQuote('q13')">ЁЯМН Letter 13: рдЫреЛрдЯреА рд╕реА рджреБрдирд┐рдпрд╛</div>
                <div id="q13" class="hidden-text">
                    рд╣рдо рд╕рдм рдмрдЪреНрдЪреЛрдВ рдХреА рдЫреЛрдЯреА рд╕реА рджреБрдирд┐рдпрд╛ рдореЗрдВ, рдЖрдкрдХреА рдореБрд╕реНрдХрд╛рди рд╕рдмрд╕реЗ рдмрдбрд╝реА рдЦреБрд╢реА рд╣реИ тЭдя╕П
                </div>
            </div>
            <div class="letter-item">
                <div class="letter-box" onclick="toggleQuote('q14')">ЁЯМИ Letter 14: рд░рдВрдЧреАрди рджрд┐рди</div>
                <div id="q14" class="hidden-text">
                    рдЖрдкрдХреА рд╣рдБрд╕реА рд╣рдорд╛рд░реЗ рджрд┐рди рдХреЛ рд░рдВрдЧреАрди рдмрдирд╛ рджреЗрддреА рд╣реИ, рдФрд░ рджрд┐рд▓ рдЦреБрд╢ рдХрд░ рджреЗрддреА рд╣реИ тЬи
                </div>
            </div>
            <div class="letter-item">
                <div class="letter-box" onclick="toggleQuote('q15')">ЁЯМ╕ Letter 15: рд╕рдмрд╕реЗ рдкреНрдпрд╛рд░реА</div>
                <div id="q15" class="hidden-text">
                    рдЖрдк рд╣рдорд╛рд░реЗ рд▓рд┐рдП рд╣рдореЗрд╢рд╛ рд╕реЗ рд╕рдмрд╕реЗ рдкреНрдпрд╛рд░реА рд╣реЛ, рдФрд░ рд╣рдореЗрд╢рд╛ рд░рд╣реЗрдВрдЧреА ЁЯМ╕
                </div>
            </div>
            <div class="letter-item">
                <div class="letter-box" onclick="toggleQuote('q16')">ЁЯШД Letter 16: рдмрд╕ рдЦреБрд╢ рд░рд╣реЛ</div>
                <div id="q16" class="hidden-text">
                    рд╣рдо рдмрд╕ рдЪрд╛рд╣рддреЗ рд╣реИрдВ рдХрд┐ рдЖрдк рд╣рдореЗрд╢рд╛ рдЦреБрд╢ рдФрд░ рд╣рдБрд╕рддреА рд░рд╣реЗрдВ тЬи
                </div>
            </div>
            <div class="letter-item">
                <div class="letter-box" onclick="toggleQuote('q17')">ЁЯдЮ Letter 17: рд╣рд░ рджрд┐рди рд╕рд╛рде</div>
                <div id="q17" class="hidden-text">
                    рд╣рдорд╛рд░реЗ рд▓рд┐рдП рдЖрдк рд╣реА рд╕рдмрд╕реЗ рдЦрд╛рд╕ рд╣реЛ, рдФрд░ рд╣рд░ рджрд┐рди рдЖрдкрдХрд╛ рд╕рд╛рде рдЪрд╛рд╣рд┐рдП ЁЯШД
                </div>
            </div>
            <div class="letter-item">
                <div class="letter-box" onclick="toggleQuote('q18')">ЁЯТЦ Letter 18: рд╕рдмрд╕реЗ рдмрдбрд╝рд╛ рддреЛрд╣рдлрд╝рд╛</div>
                <div id="q18" class="hidden-text">
                    рдЖрдкрдХрд╛ рдкреНрдпрд╛рд░ рд╣рдорд╛рд░реЗ рд▓рд┐рдП рд╕рдмрд╕реЗ рдмрдбрд╝рд╛ рддреЛрд╣рдлрд╝рд╛ рд╣реИ, рдФрд░ рд╣рдБрд╕реА рд╕рдмрд╕реЗ рдкреНрдпрд╛рд░реА рдЪреАрдЬрд╝ тЭдя╕П
                </div>
            </div>
            <div class="letter-item">
                <div class="letter-box" onclick="toggleQuote('q19')">тЬи Letter 19: рджрд┐рд▓ рдЦреБрд╢</div>
                <div id="q19" class="hidden-text">
                    рдЖрдкрдХреА рд╣рдБрд╕реА рд╕реБрдирдХрд░ рд╣рдорд╛рд░рд╛ рдорди рднреА рд╣рдБрд╕ рдЙрдарддрд╛ рд╣реИ тЬи
                </div>
            </div>
            <div class="letter-item">
                <div class="letter-box" onclick="toggleQuote('q20')">ЁЯШИ Letter 20: рд╢реИрддрд╛рди рдмрдЪреНрдЪреЗ</div>
                <div id="q20" class="hidden-text">
                    рд╣рдорд╛рд░реА рдордореНрдореА рдХреА рдПрдХ рд╣реА рдкреБрд░рд╛рди тП│, рдмрдЪреНрдЪреЗ рдЙрдирдХреЗ рдмрд╣реБрдд рд╢реИрддрд╛рди ЁЯШДЁЯШИред
                </div>
            </div>
        </div>


        <button class="next-btn" onclick="nextPage()">Next тЮЬ</button>
    </div>



    <div id="page6" class="page">
        <h1 style="font-size:80px;">ЁЯОЙ HAPPY BIRTHDAY MUMMA! ЁЯТЦ</h1>
        <p>рд╣реИрдкреНрдкреА рдмрд░реНрдердбреЗ ЁЯОЙЁЯОВЁЯТР! рдЖрдЬ рд╣рдо рд╕рдм рдмрдЪреНрдЪреЛрдВ рдиреЗ рдорд┐рд▓рдХрд░ рд╕реЛрдЪрд╛ рдХрд┐ рдПрдХ рд╣реА рдмрд╛рд░ рдореЗрдВ рд╕рд╛рд░реА рд╡рд┐рд╢реЗрдЬрд╝ рджреЗ рджреА рдЬрд╛рдПрдБ, рд╡рд░рдирд╛ рдЕрд▓рдЧ-рдЕрд▓рдЧ
            рдЬрд╛рдХрд░ рдЖрдкрдХреЛ рдкрд░реЗрд╢рд╛рди рд╣реА рдХрд░рддреЗ рд░рд╣реЗрдВрдЧреЗ ЁЯШДред рд╡реИрд╕реЗ рддреЛ рд╣рдо рд░реЛрдЬрд╝ рдШрд░ рдХрд╛ рд╕рд░реНрдХрд╕ рдЪрд▓рд╛ рдХреЗ рд░рдЦ рджреЗрддреЗ рд╣реИрдВ, рдкрд░ рдЖрдЬ рд╣рдордиреЗ рдбрд┐рд╕рд╛рдЗрдб рдХрд┐рдпрд╛ рд╣реИ
            рдХрд┐ рдЖрдк рдереЛрдбрд╝рд╛ рдЖрд░рд╛рдо рдХрд░ рд▓реЛтАж (рдмрд╕ рдереЛрдбрд╝рд╛ рд╣реА, рдкреВрд░рд╛ рджрд┐рди рддреЛ рдкреЙрд╕рд┐рдмрд▓ рдирд╣реАрдВ рд╣реЛрддрд╛ рд╣рдорд╛рд░реЗ рд╣реЛрддреЗ рд╣реБрдП ЁЯШЬ)ред рдЖрдЬ рдХрд╛ рджрд┐рди рдмрд╕ рдЖрдкрдХрд╛
            рд╣реИтАФрдирд╛ рдХреЛрдИ рдПрдХреНрд╕реНрдЯреНрд░рд╛ рдЯреЗрдВрд╢рди, рдирд╛ рд╣рдорд╛рд░реА рдмреЗрдХрд╛рд░ рдХреА рдбрд┐рдорд╛рдВрдб, рдмрд╕ рдереЛрдбрд╝реА-рд╕реА рдорд╕реНрддреА, рдереЛрдбрд╝реА-рд╕реА рд╣рдБрд╕реА рдФрд░ рдмрд╣реБрдд рд╕рд╛рд░рд╛ рдХреЗрдХ ЁЯН░тЬиред
            рд╣рдо рд╕рдм рдЪрд╛рд╣рддреЗ рд╣реИрдВ рдХрд┐ рдЖрдк рд╣рдореЗрд╢рд╛ рдРрд╕реЗ рд╣реА рдЦреБрд╢, рдмрд┐рдВрджрд╛рд╕ рдФрд░ рд╣реЗрд▓реНрджреА рд░рд╣реЛ, рдФрд░ рд╣рдо рдХрд┐рддрдирд╛ рднреА рд╢реЛрд░ рдордЪрд╛ рд▓реЗрдВ, рдЖрдкрдХрд╛ рд╕реНрдорд╛рдЗрд▓ рдХрднреА рдХрдо
            рдирд╛ рд╣реЛред рд╕реЛ рд╡рдиреНрд╕ рдЕрдЧреЗрди, рд╣реИрдкреНрдкреА рдмрд░реНрдердбреЗ ЁЯОЙЁЯТЦ</p>


        <audio id="finalSong" src="song1.mp3" loop></audio>


        <button class="next-btn" onclick="launchFireworks()">ЁЯОЖ Start Fireworks ЁЯОЖ</button>
    </div>


    <div id="fireworks-container">
        <canvas id="fireworks"></canvas>
    </div>

    <div id="fireworks-text">
        HAPPY BIRTHDAY TO YOU ЁЯлЕ<br>
        <span style="font-size: 0.5em; display: block; margin-top: 10px;">Love you maa ЁЯШШ</span>
    </div>



    <script>
        // Adjusting total pages due to new intro page
        const totalPages = 7;
        let currentPage = 0; // 0 for intro-page, 1 for page1, 2 for page2, etc.

        // Function to start the main experience (called from intro button)
        function startExperience() {
            // Attempt to play audio immediately after user interaction
            const audio = document.getElementById("bg1");
            audio.play().catch(e => {
                console.log("Audio autoplay failed:", e);
            });

            // Move from intro-page (0) to page1 (1)
            document.getElementById("intro-page").classList.remove("active");
            currentPage = 1;
            document.getElementById("page" + currentPage).classList.add("active");
        }


        function nextPage() {
            // Pause current page's music
            let currentAudio = document.getElementById("bg" + currentPage) || document.getElementById("finalSong");
            if (currentAudio) currentAudio.pause();


            // Hide photo display on transition (for photo pages: 2 and 3)
            const currentPhotoDisplay = document.getElementById("photoDisplay" + currentPage);
            if (currentPhotoDisplay) {
                // Hide and clear image source for smooth transition
                currentPhotoDisplay.querySelector('img').style.opacity = '0';
                currentPhotoDisplay.querySelector('img').src = '';
            }

            // Correctly handle page element IDs: page1, page2, page3, etc.
            let currentElementId = (currentPage === 0) ? "intro-page" : "page" + (currentPage - 1);
            
            document.getElementById(currentElementId).classList.remove("active");
            currentPage++;

            // Stop if pages are finished (page 6 is the last content page, page 7 is out of bounds)
            if (currentPage >= totalPages) return;

            // Determine the ID of the next page to show
            let nextElementId = "page" + (currentPage - 1);
            if (currentPage === 1) nextElementId = "page1";
            if (currentPage === 2) nextElementId = "page2";
            if (currentPage === 3) nextElementId = "page3";
            if (currentPage === 4) nextElementId = "page4";
            if (currentPage === 5) nextElementId = "page5";
            if (currentPage === 6) nextElementId = "page6";
            

            // Show next page
            document.getElementById(nextElementId).classList.add("active");


            // Play next page's music
            let nextAudio = document.getElementById("bg" + (currentPage - 1)) || document.getElementById("finalSong");
            if (nextAudio) nextAudio.play();
        }



        // PHOTO DISPLAY (Instead of Popup)
        // Uses the display area within Page 3 and Page 4 (Original IDs page2 and page3)
        function openPhoto(img, pageNum) {
            // pageNum here is the old ID (2 or 3). The new page index is 3 or 4.
            const imgId = "popupImg" + pageNum;
            const imgElement = document.getElementById(imgId);

            if (imgElement.src.includes(img)) {
                // If same image is clicked, hide it
                imgElement.style.opacity = '0';
                setTimeout(() => imgElement.src = '', 300); // Clear source after fade
            } else {
                // Show new image
                imgElement.style.opacity = '0'; // Start invisible for fade effect
                imgElement.src = img;
                // Wait for image to load, then fade in
                imgElement.onload = () => {
                    imgElement.style.opacity = '1';
                };
            }
        }


        // QUOTE TOGGLE (FIXED LOGIC)
        function toggleQuote(id) {
            let box = document.getElementById(id);
            if (box.style.maxHeight && box.style.maxHeight !== '0px') {
                box.style.maxHeight = '0px';
                box.style.opacity = '0';
                box.style.padding = '0px 20px';
            } else {
                box.style.padding = '20px';
                // Set max-height using scrollHeight
                box.style.maxHeight = box.scrollHeight + 40 + "px";
                box.style.opacity = '1';
            }
        }

        // VIDEO тЖТ NEXT PAGE (FIXED LOGIC - Now next page is Page 3)
        const cakeVideo = document.getElementById("cakeVideo");
        
        cakeVideo.addEventListener("ended", () => nextPage());

        cakeVideo.addEventListener("pause", () => {
            if (cakeVideo.ended) {
                nextPage();
            }
        });


        // FIREWORKS
        function launchFireworks() {
            // Show the text overlay
            document.getElementById("fireworks-text").style.opacity = '1';

            const canvas = document.getElementById("fireworks");
            const ctx = canvas.getContext("2d");

            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;

            window.addEventListener('resize', () => {
                canvas.width = window.innerWidth;
                canvas.height = window.innerHeight;
            });

            let particles = [];

            function createFirework() {
                let x = Math.random() * canvas.width;
                let y = Math.random() * canvas.height * 0.5;

                // Random pink/white/purple color for the particles
                const colors = ["255,192,203", "255,255,255", "136,68,255"];
                const color = colors[Math.floor(Math.random() * colors.length)];

                for (let i = 0; i < 40; i++) {
                    particles.push({
                        x, y,
                        angle: Math.random() * 2 * Math.PI,
                        speed: Math.random() * 5 + 2,
                        alpha: 1,
                        color: color
                    });
                }
            }


            createFirework();
            setInterval(createFirework, 600);


            function animate() {
                // Fading trail effect
                ctx.fillStyle = "rgba(0, 17, 51, 0.1)";
                ctx.fillRect(0, 0, canvas.width, canvas.height);

                for (let p of particles) {
                    p.x += Math.cos(p.angle) * p.speed;
                    p.y += Math.sin(p.angle) * p.speed;
                    p.alpha -= 0.02;

                    ctx.fillStyle = "rgba(" + p.color + "," + p.alpha + ")";
                    ctx.beginPath();
                    ctx.arc(p.x, p.y, 4, 0, 2 * Math.PI);
                    ctx.fill();
                }

                particles = particles.filter(p => p.alpha > 0);
                requestAnimationFrame(animate);
            }
            animate();
        }
    </script>


</body>

</html>
